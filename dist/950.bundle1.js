"use strict";(self.webpackChunktokenization=self.webpackChunktokenization||[]).push([[950],{4950:(e,t,r)=>{r.d(t,{uploadBatch:()=>m});let n={rpc:"rpc.thirdweb.com",inAppWallet:"embedded-wallet.thirdweb.com",social:"social.thirdweb.com",pay:"pay.thirdweb.com",storage:"storage.thirdweb.com",bundler:"bundler.thirdweb.com",analytics:"c.thirdweb.com"};const s=()=>n,o="5.80.0";var i=r(7699),a=r(1977),c=r(4200);const d=!1,u=6e4;const h=[".thirdweb.com",".ipfscdn.io",".thirdweb.dev",".thirdweb-dev.com"],l=new i.A(4096),w="unified-sdk";let p;function f(e){const t=e.toLowerCase();if(t.startsWith("win"))return"win";switch(e){case"Mac OS":return"mac";case"iOS":return"ios";case"Android OS":return"android";default:return t.replace(/\s/gi,"_")}}async function m(e,t,r,n){const i=await function(e,t){return async function(r,n){const{requestTimeoutMs:s=u,...i}=n||{};let m,b,y=i.headers?new Headers(i.headers):void 0;if(function(e){if(l.has(e))return l.get(e);try{const{hostname:t}=new URL(e);try{if(d&&"localhost"===t)return l.set(e,!0),!0}catch{}const r=h.some((e=>t.endsWith(e)));return l.set(e,r),r}catch{return l.set(e,!1),!1}}(r)){y||(y=new Headers);const n=e.secretKey&&(0,c.s)(e.secretKey)?e.secretKey:void 0,s=e.secretKey&&!(0,c.s)(e.secretKey)?e.secretKey:void 0,i=e.clientId;!n||function(e){try{const{hostname:t}=new URL(e);return t.startsWith("pay.")}catch{return!1}}(r)||function(e){try{const{hostname:t}=new URL(e);return t.startsWith("in-app-wallet.")||t.startsWith("embedded-wallet.")}catch{return!1}}(r)||function(e){try{const{hostname:t}=new URL(e);return t.endsWith(".bundler.thirdweb.com")||t.endsWith(".bundler.thirdweb-dev.com")}catch{return!1}}(r)?s?y.set("x-secret-key",s):i&&y.set("x-client-id",i):y.set("authorization",`Bearer ${n}`),t&&(y.set("x-ecosystem-id",t.id),t.partnerId&&y.set("x-ecosystem-partner-id",t.partnerId));for(const[e,t]of function(){if(p)return p;let e,t=null;return"undefined"!=typeof navigator&&(t=(0,a.U)(navigator.userAgent)),"undefined"!=typeof globalThis&&"Application"in globalThis&&(e=globalThis.Application.applicationId),p=Object.entries({"x-sdk-platform":(0,a.l)(),"x-sdk-version":o,"x-sdk-os":t?f(t):"unknown","x-sdk-name":w,...e?{"x-bundle-id":e}:{}}),p}())y.set(e,t)}return s&&(m=new AbortController,b=setTimeout((()=>{m?.abort("timeout")}),s)),fetch(r,{...i,headers:y,signal:m?.signal}).finally((()=>{b&&clearTimeout(b)}))}}(e)(`https://${s().storage}/ipfs/upload`,{method:"POST",headers:{},body:t});if(!i.ok){if(i.body?.cancel(),401===i.status)throw new Error("Unauthorized - You don't have permission to use this service.");if(402===i.status)throw new Error("You have reached your storage limit. Please add a valid payment method to continue using the service.");if(403===i.status)throw new Error("Forbidden - You don't have permission to use this service.");throw new Error(`Failed to upload files to IPFS - ${i.status} - ${i.statusText}`)}const m=(await i.json()).IpfsHash;if(!m)throw new Error("Failed to upload files to IPFS - Bad CID");return n?.uploadWithoutDirectory?[`ipfs://${m}`]:r.map((e=>`ipfs://${m}/${e}`))}}}]);
//# sourceMappingURL=950.bundle1.js.map